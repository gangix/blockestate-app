<div *ngIf="loading">Loading agreements...</div>

<button (click)="fetchAgreements()" class="refresh-button">
  Refresh Agreements
</button>

<table *ngIf="!loading" class="agreement-table">
  <thead>
  <tr>
    <th>Envelope ID</th>
    <th>Document Name</th>
    <th>Status</th>
    <th>Transaction Result</th>
    <th>Payer Email</th>
    <th>Payee Email</th>
    <th>Eth Amount</th>
    <th>Declined Reason</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let agreement of agreements">
    <td>{{ agreement.envelopeId }}</td>
    <td>{{ agreement.documentName }}</td>
    <td>{{ agreement.status }}</td>
    <td>{{ agreement.transactionStatus }}</td>
    <td>{{ agreement.payerEmailAddress }}</td>
    <td>{{ agreement.payeeEmailAddress }}</td>
    <td>{{ agreement.amount }}</td>
    <td>{{ agreement.declinedReason || 'N/A' }}</td>
  </tr>
  </tbody>
</table>

<div *ngIf="agreements.length === 0 && !loading">No agreements available.</div>
